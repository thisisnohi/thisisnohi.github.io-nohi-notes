(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{262:function(t,e,_){"use strict";_.r(e);var r=_(5),s=Object(r.a)({},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"content"},[t._m(0),t._v(" "),_("ul",[_("li",[t._v("常用命令\n"),_("ul",[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),_("li",[_("p",[t._v("profiler  使用"),_("a",{attrs:{href:"https://github.com/jvm-profiling-tools/async-profiler",target:"_blank",rel:"noopener noreferrer"}},[t._v("async-profiler"),_("OutboundLink")],1),t._v("生成火焰图")])]),t._v(" "),t._m(18)])])]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._m(23)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"arthas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arthas","aria-hidden":"true"}},[this._v("#")]),this._v(" arthas")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("dashboard　实时数据面板")])])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("li",[_("p",[t._v("thread　 \tJVM 的线程堆栈信息")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("Arthas支持管道，可以用 "),_("code",[t._v("thread 1 | grep 'main('")]),t._v(" 查找到"),_("code",[t._v("main class")])])]),t._v(" "),_("li",[_("p",[t._v("thread -b, 找出当前阻塞其他线程的线程")])]),t._v(" "),_("li",[_("table",[_("thead",[_("tr",[_("th",[t._v("数名称")]),t._v(" "),_("th",[t._v("参数说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("id*")]),t._v(" "),_("td",[t._v("线程id")])]),t._v(" "),_("tr",[_("td",[t._v("n:]")]),t._v(" "),_("td",[t._v("指定最忙的前N个线程并打印堆栈")])]),t._v(" "),_("tr",[_("td",[t._v("b]")]),t._v(" "),_("td",[t._v("找出当前阻塞其他线程的线程")])]),t._v(" "),_("tr",[_("td",[t._v("i ``]")]),t._v(" "),_("td",[t._v("指定cpu占比统计的采样间隔，单位为毫秒")])])])])])])])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("li",[_("p",[t._v("jvm  JVM 的信息")]),t._v(" "),_("p",[t._v("​       THREAD相关")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("COUNT: JVM当前活跃的线程数")])]),t._v(" "),_("li",[_("p",[t._v("DAEMON-COUNT: JVM当前活跃的守护线程数")])]),t._v(" "),_("li",[_("p",[t._v("PEAK-COUNT: 从JVM启动开始曾经活着的最大线程数")])]),t._v(" "),_("li",[_("p",[t._v("STARTED-COUNT: 从JVM启动开始总共启动过的线程次数")])]),t._v(" "),_("li",[_("p",[t._v("DEADLOCK-COUNT: JVM当前死锁的线程数")]),t._v(" "),_("p",[t._v("文件描述符相关")])]),t._v(" "),_("li",[_("p",[t._v("MAX-FILE-DESCRIPTOR-COUNT：JVM进程最大可以打开的文件描述符数")])]),t._v(" "),_("li",[_("p",[t._v("OPEN-FILE-DESCRIPTOR-COUNT：JVM当前打开的文件描述符数")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("sc  JVM已加载的类信息")]),this._v(" "),e("ul",[e("li",[this._v("sc -d *MathGame")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("sm\t\t已加载类的方法信息")]),this._v(" "),e("ul",[e("li",[this._v("sm 类")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("dump")]),this._v(" "),e("ul",[e("li",[this._v("dump xxx.ccc.ccc 已加载类的 bytecode 到特定目录")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("heapdump dump java heap, 类似jmap命令的heap dump功能。")]),this._v(" "),e("ul",[e("li",[e("p",[this._v("dump到指定文件 heapdump /tmp/dump.hprof")]),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("heapdump /home/cbpc/dump.hprof\n")])])])]),this._v(" "),e("li",[e("p",[this._v("只dump live对象 heapdump --live /tmp/dump.hprof")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("jad\t\t反编译指定已加载类的源码")]),this._v(" "),e("ul",[e("li",[this._v("jad demo.MathGame")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("classloader\t查看classloader的继承树，urls，类加载信息，使用classloader去getResource")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("monitor\t方法执行监控")]),this._v(" "),e("ul",[e("li",[this._v("monitor -c 5 demo.MathGame primeFactors    -c 为周期")])])])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("li",[_("p",[t._v("watch\t\t方法执行数据观测")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("数名称")]),t._v(" "),_("th",[t._v("参数说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("class-pattern*")]),t._v(" "),_("td",[t._v("类名表达式匹配")])]),t._v(" "),_("tr",[_("td",[t._v("method-pattern*")]),t._v(" "),_("td",[t._v("方法名表达式匹配")])]),t._v(" "),_("tr",[_("td",[t._v("express*")]),t._v(" "),_("td",[t._v("观察表达式")])]),t._v(" "),_("tr",[_("td",[t._v("condition-express*")]),t._v(" "),_("td",[t._v("条件表达式")])]),t._v(" "),_("tr",[_("td",[t._v("b]")]),t._v(" "),_("td",[t._v("在"),_("strong",[t._v("方法调用之前")]),t._v("观察")])]),t._v(" "),_("tr",[_("td",[t._v("e]")]),t._v(" "),_("td",[t._v("在"),_("strong",[t._v("方法异常之后")]),t._v("观察")])]),t._v(" "),_("tr",[_("td",[t._v("s]")]),t._v(" "),_("td",[t._v("在"),_("strong",[t._v("方法返回之后")]),t._v("观察")])]),t._v(" "),_("tr",[_("td",[t._v("f]")]),t._v(" "),_("td",[t._v("在"),_("strong",[t._v("方法结束之后")]),t._v("(正常返回和异常返回)观察")])]),t._v(" "),_("tr",[_("td",[t._v("E]")]),t._v(" "),_("td",[t._v("开启正则表达式匹配，默认为通配符匹配")])]),t._v(" "),_("tr",[_("td",[t._v("x:]")]),t._v(" "),_("td",[t._v("指定输出结果的属性遍历深度，默认为 1")])])])]),t._v(" "),_("ul",[_("li",[t._v("watch demo.MathGame primeFactors returnObj")]),t._v(" "),_("li",[t._v('watch com.ccdc.pi.market.service.MainTaskService getMyTodoTask "{params,returnObj}" -x 3')]),t._v(" "),_("li",[t._v("3表示显示深度")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("trace\t\t方法内部调用路径，并输出方法路径上的每个节点上耗时")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("stack\t\t输出当前方法被调用的调用路径")]),this._v(" "),e("ul",[e("li",[this._v("stack demo.MathGame primeFactors")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("tt \t\t方法执行数据的时空隧道，记录下指定方法每次调用的入参和返回信息，并能对这些不同的时间下调用进行观测")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("reset\t\t重置增强类，将被 Arthas 增强过的类全部还原，Arthas 服务端关闭时会重置所有增强过的类")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("quit\t\t退出")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("shutdown\t关闭 Arthas 服务端，所有 Arthas 客户端全部退出")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("profiler start")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("参见: https://alibaba.github.io/arthas/install-detail.html#")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("全量: https://repository.sonatype.org/service/local/repositories/central-proxy/content/com/taobao/arthas/arthas-packaging/3.0.5/arthas-packaging-3.0.5-bin.zip")]),this._v(" "),e("li",[this._v("快速: https://alibaba.github.io/arthas/arthas-boot.jar")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("安装: 执行 ./install.sh\n启动: 执行 ./as.sh pid  或者 java -jar arthas-boot.jar --target-ip 0.0.0.0\n\t   如果多个线程，输入对应数字回车进入\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"dashboard"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dashboard","aria-hidden":"true"}},[this._v("#")]),this._v(" dashboard")])}],!1,null,null,null);e.default=s.exports}}]);